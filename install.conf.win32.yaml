#region general settings

- defaults:
    crossplatform-link:
        create: true
        relink: true
        glob: true
    crossplatform-shell:
        stdout: true
        stderr: true
        shell: powershell
#endregion

#region PSReadLine

- crossplatform-shell:
    - command: "if (Get-Module PSReadLine) { echo 'PSReadLine is installed!' } else { Install-Module PSReadLine -MinimumVersion 2.2.6 -Force }"
      description: Install PSReadLine
      platform: win32
      shell: powershell

#endregion

#region oh-my-posh

- crossplatform-shell:
    - [ powershell.exe setup_scripts/win32/setup_oh_my_posh.ps1 , Setup oh-my-posh ]

#endregion

#region vscode

- crossplatform-link:
    ~/AppData/Roaming/Code/User/:
        path: vscode/*
        exclude: [ vscode/vscvimrc ]
    ~/AppData/Roaming/Code - Insiders/User/:
        path: vscode/*
        exclude: [ vscode/vscvimrc ]
    ~/.vscvimrc: vscode/vscvimrc

- vscodefile:
    file: vscode/vscodefiles/vscodefiles
    insiders: true

- vscodefile:
    file: vscode/vscodefiles/vscodefiles
    insiders: false

#endregion

#region visualstudio

- crossplatform-link:
    ~/.vsvimrc: visualstudio/vsvim/.vsvimrc

#endregion 

#region neovim
- crossplatform-shell:
    - [ powershell.exe setup_scripts/win32/setup_neovim.ps1, Setup neovim ]

- crossplatform-shell:
    - [ powershell.exe setup_scripts/win32/setup_edge.ps1, Setup edge ]

- crossplatform-link:
    ~/AppData/Local/nvim: 
        path: neovim/nvchad
    ~/AppData/Local/nvim/lua/custom: 
        path: neovim/nvim/lua/custom

#endregion

#region win-vind
- crossplatform-link:
    ~/.win-vind/.vindrc: win-vind/vindrc

# endregion

#region z-location

- crossplatform-shell:
    - [ Install-PackageProvider -Name NuGet -MinimumVersion 2.8.5.201 -Force ]
    - command: "if (Get-Module ZLocation) { echo 'ZLocation is installed!' } else { Install-Module ZLocation -Scope CurrentUser -Force }"
      description: Setup z-location
      platform: win32
      shell: powershell


#endregion

#region powershell
- crossplatform-link:
# for new versions of powershell
    ~/Documents/PowerShell/Microsoft.PowerShell_profile.ps1: powershell/profile.ps1
# for old versions of powershell
    ~/Documents/WindowsPowerShell/Microsoft.PowerShell_profile.ps1: powershell/profile.ps1
    ~/.config/profiles/: 
        path: powershell/*
        exclude: [ powershell/profile.ps1 ]
#endregion

- crossplatform-shell:
    - [powershell.exe setup_scripts/win32/setup_snipaste.ps1, "Setup snipaste"]
    
- crossplatform-shell:
    - [powershell.exe setup_scripts/win32/setup_listary.ps1, "Setup listary"]

- crossplatform-shell:
    - [powershell.exe setup_scripts/win32/setup_obsidian.ps1, "Setup obsidian"]

######################
# tldr related start
######################

- crossplatform-shell:
  - command: tldr -v || npm install -g tldr
    description: Install tldr
    platform: "!win32"
    shell: bash
  - command: "setup_scripts/win32/setup_tldr.ps1"
    description: Install tldr
    platform: "win32"
    shell: powershell

######################
# tldr related end
######################