- defaults:
    crossplatform-link:
        create: true
        relink: true
        glob: true
    shell:
        stdout: true
        stderr: true

- shell:
  - [git submodule update --init --recursive, install modules]

- shell:
  - [setup_scripts/linux/setup_neovim.sh, install neovim]

######################
# zsh related start
######################

- shell:
    - [setup_scripts/linux/setup_bash.sh, Backup bashrc to private]
    - [setup_scripts/linux/setup_zsh.sh, Install zsh]

- crossplatform-link:
    ~/.zshrc:
    ~/.zsh:
    ~/.oh-my-zsh: ohmyzsh
    ~/.oh-my-zsh/custom/plugins: 
        path: zsh/plugins
        force: true
    ~/.bash/: bash/*
    ~/.bashrc:

- crossplatform-shell:
    - command: 'sudo chsh -s `which zsh`'
      description: Use zsh as default shell
      environment: "!SHELL=/bin/zsh" 

######################
# zsh related end
######################
          
######################
# vscode related start
######################

- crossplatform-link:
    ~/Library/Application Support/Code/User/: 
        path: vscode/*
        exclude: [ vscode/vscvimrc ]
        platform: darwin
    ~/Library/Application Support/Code - Insiders/User/: 
        path: vscode/*
        exclude: [ vscode/vscvimrc ]
        platform: darwin
    ~/.vscvimrc: vscode/vscvimrc 

- vscodefile:
    file: vscode/vscodefiles/vscodefiles
    insiders: true

- vscodefile:
    file: vscode/vscodefiles/vscodefiles
    insiders: false
          
######################
# vscode related end
######################

######################
# neovim related start
######################

- crossplatform-link:
    ~/.config/nvim: 
        path: neovim/nvchad

- crossplatform-link:
    ~/.config/nvim/lua/custom: 
        path: neovim/nvim/lua/custom

######################
# neovim related end
######################

######################
# tldr related start
######################

- crossplatform-shell:
  - command: tldr -v || npm install -g tldr
    description: Install tldr
    platform: "!win32"
    shell: bash
  - command: "setup_scripts/win32/setup_tldr.ps1"
    description: Install tldr
    platform: "win32"
    shell: powershell

######################
# tldr related end
######################

######################
# thefuck related start
######################

- crossplatform-shell:
  - command: pip3 install thefuck
    description: Install thefuck
    platform: "!win32"
    shell: bash
  - command: pip install thefuck
    description: Install thefuck
    platform: "win32"
    shell: powershell

######################
# thefuck related end
######################

######################
# atuin related start
######################

- crossplatform-shell:
  - command: command -v atuin || brew install atuin
    description: Install atuin
    platform: "darwin"
    shell: bash
  - command: command -v atuin || apt install atuin
    description: Install atuin
    platform: "linux"
    shell: bash


######################
# atuin related end
######################
